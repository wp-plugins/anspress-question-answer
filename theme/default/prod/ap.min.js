function ap_chk_activity_scroll(a){if(0==jQuery("#ap-conversation-scroll .ap-no-more-message").length){var b=jQuery(a.currentTarget);b[0].scrollHeight-b.scrollTop()==b.outerHeight()&&APjs.site.loadMoreConversations(b)}}!function(a){a.fn.autogrow=function(b){function c(c){var d,e=a(this),f=e.innerHeight(),g=this.scrollHeight,h=e.data("autogrow-start-height")||0;if(g>f)this.scrollTop=0,b.animate?e.stop().animate({height:g},b.speed):e.innerHeight(g);else if(!c||8==c.which||46==c.which||c.ctrlKey&&88==c.which)if(f>h){d=e.clone().addClass(b.cloneClass).css({position:"absolute",zIndex:-10,height:""}).val(e.val()),e.after(d);do g=d[0].scrollHeight-1,d.innerHeight(g);while(g===d[0].scrollHeight);g++,d.remove(),e.focus(),h>g&&(g=h),f>g&&b.animate?e.stop().animate({height:g},b.speed):e.innerHeight(g)}else e.innerHeight(h)}var d=a(this).css({overflow:"hidden",resize:"none"}),e=d.selector,f={context:a(document),animate:!0,speed:50,fixMinHeight:!0,cloneClass:"autogrowclone",onInitialize:!1};return b=a.isPlainObject(b)?b:{context:b?b:a(document)},b=a.extend({},f,b),d.each(function(d,e){var f,g;e=a(e),e.is(":visible")||parseInt(e.css("height"),10)>0?f=parseInt(e.css("height"),10)||e.innerHeight():(g=e.clone().addClass(b.cloneClass).val(e.val()).css({position:"absolute",visibility:"hidden",display:"block"}),a("body").append(g),f=g.innerHeight(),g.remove()),b.fixMinHeight&&e.data("autogrow-start-height",f),e.css("height",f),b.onInitialize&&e.length&&c.call(e[0])}),b.context.on("keyup paste",e,c),d}}(jQuery),jQuery(document).ready(function(){jQuery(document).click(function(a){var b=a.target;jQuery(b).is(".ap-dropdown-toggle")||jQuery(b).parent().is(".open")||jQuery(".ap-dropdown").removeClass("open")}),jQuery("body").delegate(".ap-dropdown-toggle","click",function(a){a.preventDefault(),jQuery(".ap-dropdown").removeClass("open"),jQuery(this).closest(".ap-dropdown").addClass("open")}),jQuery(".ap-tip").tooltipster({contentAsHTML:!0,animation:"fade",theme:"tooltipster-default ap-tip-style",interactive:!0,functionBefore:function(a,b){var c=ap_default(a.data("tipposition"),"top"),d=ap_default(a.data("tipclass"),"top");jQuery(this).tooltipster("option","position",c),jQuery(this).tooltipster("option","theme","tooltipster-default ap-tip-style "+d),b()}}),jQuery("#ap-conversation-scroll").scrollTop(0),jQuery("textarea.autogrow, textarea#post_content").autogrow({onInitialize:!0}),jQuery(".ap-categories-list li .ap-icon-arrow-down").click(function(a){a.preventDefault(),jQuery(this).parent().next().slideToggle(200)}),jQuery("#ask_question_form #post_content, #answer_form #post_content").length>0&&"undefined"!=typeof jQuery.jStorage&&(jQuery("#post_content").on("blur",function(){jQuery.jStorage.set("post_content",jQuery(this).val())}),jQuery("#post_title").on("blur",function(){jQuery.jStorage.set("post_title",jQuery(this).val())}),jQuery("select#category").on("blur",function(){jQuery.jStorage.set("category",jQuery(this).val())}),jQuery(".anspress").delegate('[data-action="ap-add-tag"]',"click touchstart",function(){jQuery.jStorage.set("tags",jQuery('[data-role="ap-tagsinput"]').tagsinput("items"))}),"undefined"!=typeof jQuery.jStorage.get("post_content")&&jQuery("#post_content").val(jQuery.jStorage.get("post_content")),"undefined"!=typeof jQuery.jStorage.get("post_title")&&jQuery("#post_title").val(jQuery.jStorage.get("post_title")),"undefined"!=typeof jQuery.jStorage.get("category")&&jQuery('select#category option[value="'+jQuery.jStorage.get("category")+'"]').prop("selected",!0),"undefined"!=typeof jQuery.jStorage.get("tags")&&jQuery.jStorage.get("tags")&&jQuery.each(jQuery.jStorage.get("tags"),function(a,b){jQuery('[data-role="ap-tagsinput"]').tagsinput("add",b)})),jQuery(".ap-radio-btn").click(function(){jQuery(this).toggleClass("active")}),jQuery(".bootstrap-tagsinput > input").keyup(function(a){jQuery(this).css(width,"auto")}),jQuery(".ap-dynamic-avatar").initial({fontSize:15,fontWeight:600}),jQuery(document).ajaxComplete(function(a,b,c){jQuery(".ap-dynamic-avatar").initial({fontSize:15,fontWeight:600})}),jQuery("#answers .answer").waypoint(function(a,b){jQuery("#answers .answer").removeClass("active");var c=parseInt(jQuery('[data-view="ap_answer_nav_total"]').text()),d=parseInt(jQuery(this.element).data("index")),e=jQuery(".ap-answers-nav");1==d&&"up"==a||d==c?e.hide():e.show(),jQuery('[data-view="ap_answer_nav_cur"]').text(d),jQuery(this.element).addClass("active")},{offset:"100"}),jQuery('[data-acton="ap_answer_prev"]').click(function(a){a.preventDefault();var b=parseInt(jQuery('[data-view="ap_answer_nav_cur"]').text())-1;jQuery("html, body").animate({scrollTop:jQuery("#answers .answer:nth-child("+b+")").offset().top-100},500)}),jQuery('[data-acton="ap_answer_next"]').click(function(a){a.preventDefault();var b=parseInt(jQuery('[data-view="ap_answer_nav_cur"]').text())+1;jQuery("html, body").animate({scrollTop:jQuery("#answers .answer:nth-child("+b+")").offset().top-99},500)}),jQuery("body").delegate("#ap-question-tab a","click",function(a){a.preventDefault();var b=AnsPress.site.showLoading(this),c=jQuery(this).attr("href");jQuery("#anspress").load(c+" #anspress",function(){jQuery(b).hide()})}),jQuery("body").delegate(".ap-notify-item","click",function(a){a.preventDefault(),jQuery(this).hide()})});